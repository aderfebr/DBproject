"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[754],{6754:function(t,e,l){l.r(e),l.d(e,{default:function(){return tt}});var d=l(3396),i=l(9242),n=l(7139);const a=t=>((0,d.dD)("data-v-33267713"),t=t(),(0,d.Cn)(),t),u={id:"main"},_={key:0,id:"popAdd"},o=a((()=>(0,d._)("div",{id:"header"}," 添加数据",-1))),c={id:"body"},r={style:{flex:"1"}},s=a((()=>(0,d._)("br",null,null,-1))),h=a((()=>(0,d._)("br",null,null,-1))),p=a((()=>(0,d._)("br",null,null,-1))),m={style:{flex:"1"}},v=a((()=>(0,d._)("br",null,null,-1))),f=a((()=>(0,d._)("br",null,null,-1))),w=a((()=>(0,d._)("br",null,null,-1))),k={id:"footer"},y={key:1,id:"popAdd"},b=a((()=>(0,d._)("div",{id:"header"}," 更改数据",-1))),U={id:"body"},g={style:{flex:"1"}},C=a((()=>(0,d._)("br",null,null,-1))),x=a((()=>(0,d._)("br",null,null,-1))),V=a((()=>(0,d._)("br",null,null,-1))),D={style:{flex:"1"}},z=a((()=>(0,d._)("br",null,null,-1))),A=a((()=>(0,d._)("br",null,null,-1))),W=a((()=>(0,d._)("br",null,null,-1))),T={id:"footer"},q={id:"left"},H=a((()=>(0,d._)("i",{class:"fa fa-home"},null,-1))),K=a((()=>(0,d._)("i",{class:"fa fa-street-view"},null,-1))),Y=a((()=>(0,d._)("i",{class:"fa fa-map-marker"},null,-1))),$={id:"selected"},M=a((()=>(0,d._)("i",{class:"fa fa-wrench"},null,-1))),I=a((()=>(0,d._)("i",{class:"fa fa-shield"},null,-1))),Z=a((()=>(0,d._)("i",{class:"fa fa-archive"},null,-1))),j=a((()=>(0,d._)("i",{class:"fa fa-bell"},null,-1))),B={id:"right"},E={id:"top"},F=a((()=>(0,d._)("li",null,[(0,d._)("h1",null,[(0,d.Uk)(" "),(0,d._)("i",{class:"fa fa-wrench"}),(0,d.Uk)(" 设备")])],-1))),G=a((()=>(0,d._)("div",{style:{clear:"both"}},null,-1))),J={id:"container"},L=a((()=>(0,d._)("br",null,null,-1))),N=a((()=>(0,d._)("thead",null,[(0,d._)("tr",null,[(0,d._)("th",null,"设备编号"),(0,d._)("th",null,"设备名称"),(0,d._)("th",null,"生产商"),(0,d._)("th",null,"生产日期"),(0,d._)("th",null,"用途"),(0,d._)("th",null,"所属区域"),(0,d._)("th",null,"操作")])],-1))),O=["onClick"],P=["onClick"];function Q(t,e,l,a,Q,R){const S=(0,d.up)("router-link");return(0,d.wg)(),(0,d.iD)("div",u,[Q.showAdd?((0,d.wg)(),(0,d.iD)("div",_,[o,(0,d._)("div",c,[(0,d._)("div",r,[(0,d._)("div",null,[(0,d.Uk)("设备编号"),s,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>Q.device_id=t)},null,512),[[i.nr,Q.device_id]])]),(0,d._)("div",null,[(0,d.Uk)("生产商"),h,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>Q.manufacturer=t)},null,512),[[i.nr,Q.manufacturer]])]),(0,d._)("div",null,[(0,d.Uk)("用途"),p,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>Q.func=t)},null,512),[[i.nr,Q.func]])])]),(0,d._)("div",m,[(0,d._)("div",null,[(0,d.Uk)("设备名称"),v,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>Q.device_name=t)},null,512),[[i.nr,Q.device_name]])]),(0,d._)("div",null,[(0,d.Uk)("生产日期"),f,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>Q.production_date=t)},null,512),[[i.nr,Q.production_date]])]),(0,d._)("div",null,[(0,d.Uk)("所属区域"),w,(0,d.wy)((0,d._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>Q.area_id_id=t)},[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(Q.plot,(t=>((0,d.wg)(),(0,d.iD)("option",null,(0,n.zw)(t),1)))),256))],512),[[i.bM,Q.area_id_id]])])])]),(0,d._)("div",k,[(0,d._)("button",{style:{"background-color":"#28a745"},onClick:e[6]||(e[6]=t=>R.add_commit())},"   确认   "),(0,d._)("button",{style:{"background-color":"#dc3545"},onClick:e[7]||(e[7]=t=>R.cancel())},"   取消   ")])])):(0,d.kq)("",!0),Q.showChange?((0,d.wg)(),(0,d.iD)("div",y,[b,(0,d._)("div",U,[(0,d._)("div",g,[(0,d._)("div",null,[(0,d.Uk)("设备编号"),C,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>Q.device_id=t)},null,512),[[i.nr,Q.device_id]])]),(0,d._)("div",null,[(0,d.Uk)("生产商"),x,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>Q.manufacturer=t)},null,512),[[i.nr,Q.manufacturer]])]),(0,d._)("div",null,[(0,d.Uk)("用途"),V,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>Q.func=t)},null,512),[[i.nr,Q.func]])])]),(0,d._)("div",D,[(0,d._)("div",null,[(0,d.Uk)("设备名称"),z,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=t=>Q.device_name=t)},null,512),[[i.nr,Q.device_name]])]),(0,d._)("div",null,[(0,d.Uk)("生产日期"),A,(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=t=>Q.production_date=t)},null,512),[[i.nr,Q.production_date]])]),(0,d._)("div",null,[(0,d.Uk)("所属区域"),W,(0,d.wy)((0,d._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>Q.area_id_id=t)},[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(Q.plot,(t=>((0,d.wg)(),(0,d.iD)("option",null,(0,n.zw)(t),1)))),256))],512),[[i.bM,Q.area_id_id]])])])]),(0,d._)("div",T,[(0,d._)("button",{style:{"background-color":"#28a745"},onClick:e[14]||(e[14]=t=>R.change_commit())},"   确认   "),(0,d._)("button",{style:{"background-color":"#dc3545"},onClick:e[15]||(e[15]=t=>R.cancel())},"   取消   ")])])):(0,d.kq)("",!0),(0,d._)("div",q,[(0,d._)("ul",null,[(0,d._)("li",null,[(0,d.Wm)(S,{to:"/"},{default:(0,d.w5)((()=>[H,(0,d.Uk)(" 首页")])),_:1})]),(0,d._)("li",null,[(0,d.Wm)(S,{to:"/staff"},{default:(0,d.w5)((()=>[K,(0,d.Uk)(" 人员")])),_:1})]),(0,d._)("li",null,[(0,d.Wm)(S,{to:"/area"},{default:(0,d.w5)((()=>[Y,(0,d.Uk)(" 区域")])),_:1})]),(0,d._)("li",$,[(0,d.Wm)(S,{to:"/device"},{default:(0,d.w5)((()=>[M,(0,d.Uk)(" 设备")])),_:1})]),(0,d._)("li",null,[(0,d.Wm)(S,{to:"/security"},{default:(0,d.w5)((()=>[I,(0,d.Uk)(" 安保系统")])),_:1})]),(0,d._)("li",null,[(0,d.Wm)(S,{to:"/maintain"},{default:(0,d.w5)((()=>[Z,(0,d.Uk)(" 运维系统")])),_:1})]),(0,d._)("li",null,[(0,d.Wm)(S,{to:"/alarm"},{default:(0,d.w5)((()=>[j,(0,d.Uk)(" 警报处理")])),_:1})])])]),(0,d._)("div",B,[(0,d._)("div",E,[(0,d._)("ul",null,[F,(0,d._)("li",null,[(0,d._)("button",{id:"add",onClick:e[16]||(e[16]=t=>R.add())},"添加")])]),G]),(0,d._)("div",J,[L,(0,d._)("table",null,[N,(0,d._)("tbody",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(Q.content,(t=>((0,d.wg)(),(0,d.iD)("tr",null,[(0,d._)("td",null,(0,n.zw)(t.device_id),1),(0,d._)("td",null,(0,n.zw)(t.device_name),1),(0,d._)("td",null,(0,n.zw)(t.manufacturer),1),(0,d._)("td",null,(0,n.zw)(t.production_date),1),(0,d._)("td",null,(0,n.zw)(t.func),1),(0,d._)("td",null,(0,n.zw)(t.area_id_id),1),(0,d._)("td",null,[(0,d._)("button",{id:"change",onClick:e=>R.change(t)},"更改",8,O),(0,d.Uk)(" "),(0,d._)("button",{id:"delete",onClick:e=>R.del(t)},"删除",8,P)])])))),256))])])])])])}var R={data(){return{content:null,plot:null,showAdd:0,showChange:0,device_id:"",device_name:"",manufacturer:"",production_date:"",func:"",area_id_id:""}},created(){this.getdata()},methods:{getdata(){this.axios.get("http://localhost:8000/api/device_query/").then((t=>{this.content=t.data})),this.axios.get("http://localhost:8000/api/device_foreignkey/").then((t=>{this.plot=t.data}))},add(t){this.device_id="",this.device_name="",this.manufacturer="",this.production_date="",this.func="",this.area_id_id="",this.showAdd=1},change(t){this.device_id=t.device_id,this.device_name=t.device_name,this.manufacturer=t.manufacturer,this.production_date=t.production_date,this.func=t.func,this.area_id_id=t.area_id_id,this.showChange=1},add_commit(){this.showAdd=0,this.axios({method:"post",url:"http://localhost:8000/api/add_device/",data:{device_id:this.device_id,device_name:this.device_name,manufacturer:this.manufacturer,production_date:this.production_date,func:this.func,area_id:this.area_id_id},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.getdata.bind(this)()}),100)},change_commit(){this.showChange=0,this.axios({method:"post",url:"http://localhost:8000/api/update_device/",data:{device_id:this.device_id,device_name:this.device_name,manufacturer:this.manufacturer,production_date:this.production_date,func:this.func,area_id:this.area_id_id},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.getdata.bind(this)()}),100)},del(t){this.axios({method:"post",url:"http://localhost:8000/api/delete_device/",data:{device_id:t.device_id},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.getdata.bind(this)()}),100)},cancel(){this.showAdd=0,this.showChange=0}}},S=l(89);const X=(0,S.Z)(R,[["render",Q],["__scopeId","data-v-33267713"]]);var tt=X}}]);
//# sourceMappingURL=754.86b6937f.js.map