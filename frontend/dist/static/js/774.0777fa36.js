"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[774],{5774:function(t,l,i){i.r(l),i.d(l,{default:function(){return X}});var e=i(3396),d=i(9242),a=i(7139);const o=t=>((0,e.dD)("data-v-41fc4564"),t=t(),(0,e.Cn)(),t),n={id:"main"},s={key:0,id:"popAdd"},r=o((()=>(0,e._)("div",{id:"header"}," 添加数据",-1))),_={id:"body"},u={style:{flex:"1"}},h=o((()=>(0,e._)("br",null,null,-1))),p=o((()=>(0,e._)("br",null,null,-1))),c={style:{flex:"1"}},f=o((()=>(0,e._)("br",null,null,-1))),w={id:"footer"},k={key:1,id:"popAdd"},m=o((()=>(0,e._)("div",{id:"header"}," 更改数据",-1))),b={id:"body"},y={style:{flex:"1"}},g=o((()=>(0,e._)("br",null,null,-1))),v=o((()=>(0,e._)("br",null,null,-1))),U=o((()=>(0,e._)("br",null,null,-1))),C={style:{flex:"1"}},x=o((()=>(0,e._)("br",null,null,-1))),D=o((()=>(0,e._)("br",null,null,-1))),z={id:"footer"},V={id:"left"},A=o((()=>(0,e._)("i",{class:"fa fa-home"},null,-1))),W=o((()=>(0,e._)("i",{class:"fa fa-street-view"},null,-1))),T=o((()=>(0,e._)("i",{class:"fa fa-map-marker"},null,-1))),q=o((()=>(0,e._)("i",{class:"fa fa-wrench"},null,-1))),H={id:"selected"},K=o((()=>(0,e._)("i",{class:"fa fa-shield"},null,-1))),Y=o((()=>(0,e._)("i",{class:"fa fa-archive"},null,-1))),$=o((()=>(0,e._)("i",{class:"fa fa-bell"},null,-1))),M={id:"right"},j=o((()=>(0,e._)("div",{id:"top"},[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("h1",null,[(0,e.Uk)(" "),(0,e._)("i",{class:"fa fa-shield"}),(0,e.Uk)(" 安保系统")])])]),(0,e._)("div",{style:{clear:"both"}})],-1))),I={key:0,id:"container"},Z=o((()=>(0,e._)("br",null,null,-1))),B=o((()=>(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"员工编号"),(0,e._)("th",null,"加入时间"),(0,e._)("th",null,"姓名"),(0,e._)("th",null,"操作")])],-1))),E=["onClick"],F={key:1,id:"container"},G=o((()=>(0,e._)("i",{class:"fa fa-arrow-circle-left"},null,-1))),J=o((()=>(0,e._)("br",null,null,-1))),L=o((()=>(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"巡视单编号"),(0,e._)("th",null,"巡视时间"),(0,e._)("th",null,"巡视描述"),(0,e._)("th",null,"区域编号"),(0,e._)("th",null,"员工编号"),(0,e._)("th",null,"操作")])],-1))),N=["onClick"],O=["onClick"];function P(t,l,i,o,P,Q){const R=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",n,[P.showAdd?((0,e.wg)(),(0,e.iD)("div",s,[r,(0,e._)("div",_,[(0,e._)("div",u,[(0,e._)("div",null,[(0,e.Uk)("巡视时间"),h,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>P.sreport_date=t)},null,512),[[d.nr,P.sreport_date]])]),(0,e._)("div",null,[(0,e.Uk)("区域编号"),p,(0,e.wy)((0,e._)("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>P.area_id_id=t)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.area,(t=>((0,e.wg)(),(0,e.iD)("option",null,(0,a.zw)(t),1)))),256))],512),[[d.bM,P.area_id_id]])])]),(0,e._)("div",c,[(0,e._)("div",null,[(0,e.Uk)("巡视描述"),f,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>P.sreport=t)},null,512),[[d.nr,P.sreport]])])])]),(0,e._)("div",w,[(0,e._)("button",{style:{"background-color":"#28a745"},onClick:l[3]||(l[3]=t=>Q.add_commit())},"   确认   "),(0,e._)("button",{style:{"background-color":"#dc3545"},onClick:l[4]||(l[4]=t=>Q.cancel())},"   取消   ")])])):(0,e.kq)("",!0),P.showChange?((0,e.wg)(),(0,e.iD)("div",k,[m,(0,e._)("div",b,[(0,e._)("div",y,[(0,e._)("div",null,[(0,e.Uk)("巡视单编号"),g,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=t=>P.sreport_id=t),readonly:"readonly"},null,512),[[d.nr,P.sreport_id]])]),(0,e._)("div",null,[(0,e.Uk)("巡视描述"),v,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>P.sreport=t)},null,512),[[d.nr,P.sreport]])]),(0,e._)("div",null,[(0,e.Uk)("员工编号"),U,(0,e.wy)((0,e._)("select",{"onUpdate:modelValue":l[7]||(l[7]=t=>P.staff_id_id=t)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.staff,(t=>((0,e.wg)(),(0,e.iD)("option",null,(0,a.zw)(t),1)))),256))],512),[[d.bM,P.staff_id_id]])])]),(0,e._)("div",C,[(0,e._)("div",null,[(0,e.Uk)("巡视时间"),x,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=t=>P.sreport_date=t)},null,512),[[d.nr,P.sreport_date]])]),(0,e._)("div",null,[(0,e.Uk)("区域编号"),D,(0,e.wy)((0,e._)("select",{"onUpdate:modelValue":l[9]||(l[9]=t=>P.area_id_id=t)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.area,(t=>((0,e.wg)(),(0,e.iD)("option",null,(0,a.zw)(t),1)))),256))],512),[[d.bM,P.area_id_id]])])])]),(0,e._)("div",z,[(0,e._)("button",{style:{"background-color":"#28a745"},onClick:l[10]||(l[10]=t=>Q.change_commit())},"   确认   "),(0,e._)("button",{style:{"background-color":"#dc3545"},onClick:l[11]||(l[11]=t=>Q.cancel())},"   取消   ")])])):(0,e.kq)("",!0),(0,e._)("div",V,[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(R,{to:"/"},{default:(0,e.w5)((()=>[A,(0,e.Uk)(" 首页")])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(R,{to:"/staff"},{default:(0,e.w5)((()=>[W,(0,e.Uk)(" 人员")])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(R,{to:"/area"},{default:(0,e.w5)((()=>[T,(0,e.Uk)(" 区域")])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(R,{to:"/device"},{default:(0,e.w5)((()=>[q,(0,e.Uk)(" 设备")])),_:1})]),(0,e._)("li",H,[(0,e.Wm)(R,{to:"/security"},{default:(0,e.w5)((()=>[K,(0,e.Uk)(" 安保系统")])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(R,{to:"/maintain"},{default:(0,e.w5)((()=>[Y,(0,e.Uk)(" 运维系统")])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(R,{to:"/alarm"},{default:(0,e.w5)((()=>[$,(0,e.Uk)(" 警报处理")])),_:1})])])]),(0,e._)("div",M,[j,P.info?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",I,[Z,(0,e._)("table",null,[B,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.content,(t=>((0,e.wg)(),(0,e.iD)("tr",null,[(0,e._)("td",null,(0,a.zw)(t.staff_id),1),(0,e._)("td",null,(0,a.zw)(t.join_id),1),(0,e._)("td",null,(0,a.zw)(t.name),1),(0,e._)("td",null,[(0,e._)("button",{id:"info",onClick:l=>Q.open(t.staff_id)},"详情",8,E)])])))),256))])])])),P.info?((0,e.wg)(),(0,e.iD)("div",F,[(0,e._)("h2",null,[(0,e._)("button",{id:"back",onClick:l[12]||(l[12]=t=>{Q.close()})},[G,(0,e.Uk)(" 返回")]),(0,e.Uk)("| 巡视单 | 当前安保人员编号："+(0,a.zw)(P.showid)+" | ",1),(0,e._)("button",{id:"add",onClick:l[13]||(l[13]=t=>Q.add())},"添加")]),J,(0,e._)("table",null,[L,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.content,(t=>((0,e.wg)(),(0,e.iD)("tr",null,[(0,e._)("td",null,(0,a.zw)(t.sreport_id),1),(0,e._)("td",null,(0,a.zw)(t.sreport_date),1),(0,e._)("td",null,(0,a.zw)(t.sreport),1),(0,e._)("td",null,(0,a.zw)(t.area_id_id),1),(0,e._)("td",null,(0,a.zw)(t.staff_id_id),1),(0,e._)("td",null,[(0,e._)("button",{id:"change",onClick:l=>Q.change(t)},"更改",8,N),(0,e.Uk)(" "),(0,e._)("button",{id:"delete",onClick:l=>Q.del(t)},"删除",8,O)])])))),256))])])])):(0,e.kq)("",!0)])])}var Q={data(){return{content:null,area:null,staff:null,detail:null,info:0,showid:0,showAdd:0,showChange:0,sreport_id:"",sreport_date:"",sreport:"",area_id_id:"",staff_id_id:""}},created(){this.getdata()},methods:{getdata(){this.axios.get("http://localhost:8000/api/security_view/").then((t=>{this.content=t.data}))},open(t){this.info=1,this.axios.get("http://localhost:8000/api/report/query/",{params:{staff_id_id:t}}).then((t=>{this.content=t.data})),this.showid=t,this.axios.get("http://localhost:8000/api/report/forkry1/").then((t=>{this.area=t.data})),this.axios.get("http://localhost:8000/api/report/forkry2/").then((t=>{this.staff=t.data}))},close(){this.info=0,this.$options.methods.getdata.bind(this)()},add(){this.sreport_date="",this.sreport="",this.area_id_id="",this.showAdd=1},change(t){this.sreport_id=t.sreport_id,this.sreport_date=t.sreport_date,this.sreport=t.sreport,this.area_id_id=t.area_id_id,this.staff_id_id=t.staff_id_id,this.showChange=1},add_commit(){this.showAdd=0,this.axios({method:"post",url:"http://localhost:8000/api/report/add/",data:{sreport_date:this.sreport_date,sreport:this.sreport,area_id_id:this.area_id_id,staff_id_id:this.showid},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.open.bind(this)(this.showid)}),100)},change_commit(){this.showChange=0,this.axios({method:"post",url:"http://localhost:8000/api/report/update/",data:{sreport_id:this.sreport_id,sreport_date:this.sreport_date,sreport:this.sreport,area_id_id:this.area_id_id,staff_id_id:this.staff_id_id},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.open.bind(this)(this.showid)}),100)},del(t){this.axios({method:"post",url:"http://localhost:8000/api/report/delete/",data:{sreport_id:t.sreport_id},headers:{"Content-Type":"multipart/form-data"}}),setTimeout((()=>{this.$options.methods.open.bind(this)(this.showid)}),100)},cancel(){this.showAdd=0,this.showChange=0}}},R=i(89);const S=(0,R.Z)(Q,[["render",P],["__scopeId","data-v-41fc4564"]]);var X=S}}]);
//# sourceMappingURL=774.0777fa36.js.map