{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"VChart\"], {\n    class: \"chart\",\n    option: $setup.option,\n    autoresize: \"\"\n  }, null, 8 /* PROPS */, [\"option\"]);\n}","map":{"version":3,"names":["_createBlock","$setup","class","option","autoresize"],"sources":["D:\\code\\DBproject\\frontend\\src\\components\\Pie.vue"],"sourcesContent":["<template>\r\n  <v-chart class=\"chart\" :option=\"option\" autoresize />\r\n</template>\r\n\r\n<script setup>\r\nimport axios from 'axios';\r\nimport { use } from 'echarts/core';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\nimport { PieChart } from 'echarts/charts';\r\nimport {\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n} from 'echarts/components';\r\nimport VChart, { THEME_KEY } from 'vue-echarts';\r\nimport { ref, provide } from 'vue';\r\n\r\nuse([\r\n  CanvasRenderer,\r\n  PieChart,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n]);\r\n\r\nconst option = ref({\r\n  title: {\r\n    text: '',\r\n    left: 'center'\r\n  },\r\n  tooltip: {\r\n    trigger: 'item'\r\n  },\r\n  legend: {\r\n    orient: 'vertical',\r\n    left: 'left'\r\n  },\r\n  series: [\r\n    {\r\n      type: 'pie',\r\n      radius: '50%',\r\n      data: [\r\n        { value: 0, name: '总人流量' },\r\n        { value: 0, name: '在镜人流量' },\r\n        { value: 0, name: '入口人流量' },\r\n        { value: 0, name: '出口人流量' },\r\n      ],\r\n      emphasis: {\r\n        itemStyle: {\r\n          shadowBlur: 10,\r\n          shadowOffsetX: 0,\r\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n        }\r\n      }\r\n    }\r\n  ]\r\n});\r\n\r\nconst props = defineProps({\r\n        num:Number\r\n});\r\n\r\naxios.get('http://localhost:8000/api/crowdvis/')\r\n  .then(res => {\r\n    option.value.series[0].data[0].value=res.data[props.num].total_count;\r\n    option.value.series[0].data[1].value=res.data[props.num].vis_count;\r\n    option.value.series[0].data[2].value=res.data[props.num].in_count;\r\n    option.value.series[0].data[3].value=res.data[props.num].out_count;\r\n    option.value.title.text=\"设备编号：\"+res.data[props.num].device_id_id;\r\n  });\r\n\r\n</script>"],"mappings":";;uBACEA,YAAA,CAAqDC,MAAA;IAA5CC,KAAK,EAAC,OAAO;IAAEC,MAAM,EAAEF,MAAA,CAAAE,MAAM;IAAEC,UAAU,EAAV"},"metadata":{},"sourceType":"module","externalDependencies":[]}