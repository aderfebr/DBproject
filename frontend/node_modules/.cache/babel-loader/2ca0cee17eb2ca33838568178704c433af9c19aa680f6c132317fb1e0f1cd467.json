{"ast":null,"code":"export default {\n  data() {\n    return {\n      option: {\n        color: ['#45C2E0', '#C1EBDD', '#FFC851', '#FF9393'],\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          data: ['总人流', '在镜人流', '入口人流', '出口人流'],\n          textStyle: {\n            show: true,\n            color: '#ffffff',\n            fontSize: 10\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          top: '15%',\n          bottom: '15%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: [],\n          axisLabel: {\n            show: true,\n            color: '#ffffff',\n            fontSize: 10\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            show: true,\n            color: '#ffffff',\n            fontSize: 10\n          }\n        },\n        series: [{\n          name: '在镜人流',\n          type: 'line',\n          stack: 'Total',\n          data: []\n        }, {\n          name: '入口人流',\n          type: 'line',\n          stack: 'Total',\n          data: []\n        }, {\n          name: '出口人流',\n          type: 'line',\n          stack: 'Total',\n          data: []\n        }]\n      }\n    };\n  },\n  created() {\n    this.getdata();\n  },\n  mounted() {\n    this.refreshdata = setInterval(() => {\n      this.getdata();\n    }, 2000);\n  },\n  destroyed() {\n    clearInterval(this.refreshdata);\n    this.refreshdata = null;\n  },\n  methods: {\n    getdata() {\n      this.axios.get('http://localhost:8000/graph_vis_vue').then(res => {\n        this.content = res.data;\n      });\n      this.option.xAxis.data = this.content.line.time.reverse();\n      this.option.series[0].data = this.content.line.vis.reverse();\n      this.option.series[1].data = this.content.line.in.reverse();\n      this.option.series[2].data = this.content.line.out.reverse();\n    }\n  }\n};","map":{"version":3,"names":["data","option","color","tooltip","trigger","legend","textStyle","show","fontSize","grid","left","right","top","bottom","containLabel","xAxis","type","boundaryGap","axisLabel","yAxis","series","name","stack","created","getdata","mounted","refreshdata","setInterval","destroyed","clearInterval","methods","axios","get","then","res","content","line","time","reverse","vis","in","out"],"sources":["D:\\code\\DBproject\\frontend\\src\\components\\Line.vue"],"sourcesContent":["<template>\r\n    <e-charts class=\"chart\" :option=\"option\"></e-charts>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n    data(){\r\n        return{\r\n            option:{\r\n                color:['#45C2E0', '#C1EBDD', '#FFC851','#FF9393'],\r\n                tooltip: {\r\n                    trigger: 'axis'\r\n                },\r\n                legend: {\r\n                    data: ['总人流', '在镜人流', '入口人流', '出口人流'],\r\n                    textStyle: {\r\n                        show: true,\r\n                        color: '#ffffff',\r\n                        fontSize: 10\r\n                    }\r\n                },\r\n                grid: {\r\n                    left: '3%',\r\n                    right: '4%',\r\n                    top: '15%',\r\n                    bottom: '15%',\r\n                    containLabel: true\r\n                },\r\n                xAxis: {\r\n                    type: 'category',\r\n                    boundaryGap: false,\r\n                    data: [],\r\n                    axisLabel: {\r\n                        show: true,\r\n                        color: '#ffffff',\r\n                        fontSize: 10\r\n                    }\r\n                },\r\n                yAxis: {\r\n                    type: 'value',\r\n                    axisLabel: {\r\n                        show: true,\r\n                        color: '#ffffff',\r\n                        fontSize: 10\r\n                    }\r\n                },\r\n                series: [\r\n                    {\r\n                    name: '在镜人流',\r\n                    type: 'line',\r\n                    stack: 'Total',\r\n                    data: []\r\n                    },\r\n                    {\r\n                    name: '入口人流',\r\n                    type: 'line',\r\n                    stack: 'Total',\r\n                    data: []\r\n                    },\r\n                    {\r\n                    name: '出口人流',\r\n                    type: 'line',\r\n                    stack: 'Total',\r\n                    data: []\r\n                    },\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.getdata();\r\n    },\r\n    mounted(){\r\n        this.refreshdata=setInterval(() => {\r\n\t\t    this.getdata();\r\n        }, 2000);\r\n\t},\r\n    destroyed(){\r\n        \r\n        clearInterval(this.refreshdata);\r\n        this.refreshdata=null;\r\n    },\r\n\tmethods:{\r\n\t\tgetdata(){\r\n            this.axios.get('http://localhost:8000/graph_vis_vue')\r\n            .then(res=>{\r\n\t\t\t\t\tthis.content=res.data\r\n\t\t\t\t})\r\n            this.option.xAxis.data=this.content.line.time.reverse()\r\n            this.option.series[0].data=this.content.line.vis.reverse()\r\n            this.option.series[1].data=this.content.line.in.reverse()\r\n            this.option.series[2].data=this.content.line.out.reverse()\r\n\t\t},\r\n\t}\r\n}\r\n</script>"],"mappings":"AAKA,eAAc;EACVA,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,MAAM,EAAC;QACHC,KAAK,EAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAC,SAAS,CAAC;QACjDC,OAAO,EAAE;UACLC,OAAO,EAAE;QACb,CAAC;QACDC,MAAM,EAAE;UACJL,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;UACrCM,SAAS,EAAE;YACPC,IAAI,EAAE,IAAI;YACVL,KAAK,EAAE,SAAS;YAChBM,QAAQ,EAAE;UACd;QACJ,CAAC;QACDC,IAAI,EAAE;UACFC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE,IAAI;UACXC,GAAG,EAAE,KAAK;UACVC,MAAM,EAAE,KAAK;UACbC,YAAY,EAAE;QAClB,CAAC;QACDC,KAAK,EAAE;UACHC,IAAI,EAAE,UAAU;UAChBC,WAAW,EAAE,KAAK;UAClBjB,IAAI,EAAE,EAAE;UACRkB,SAAS,EAAE;YACPX,IAAI,EAAE,IAAI;YACVL,KAAK,EAAE,SAAS;YAChBM,QAAQ,EAAE;UACd;QACJ,CAAC;QACDW,KAAK,EAAE;UACHH,IAAI,EAAE,OAAO;UACbE,SAAS,EAAE;YACPX,IAAI,EAAE,IAAI;YACVL,KAAK,EAAE,SAAS;YAChBM,QAAQ,EAAE;UACd;QACJ,CAAC;QACDY,MAAM,EAAE,CACJ;UACAC,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE,MAAM;UACZM,KAAK,EAAE,OAAO;UACdtB,IAAI,EAAE;QACN,CAAC,EACD;UACAqB,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE,MAAM;UACZM,KAAK,EAAE,OAAO;UACdtB,IAAI,EAAE;QACN,CAAC,EACD;UACAqB,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE,MAAM;UACZM,KAAK,EAAE,OAAO;UACdtB,IAAI,EAAE;QACN,CAAC;MAET;IACJ;EACJ,CAAC;EACDuB,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,OAAO,CAAC,CAAC;EAClB,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,WAAW,GAACC,WAAW,CAAC,MAAM;MACrC,IAAI,CAACH,OAAO,CAAC,CAAC;IACZ,CAAC,EAAE,IAAI,CAAC;EACf,CAAC;EACEI,SAASA,CAAA,EAAE;IAEPC,aAAa,CAAC,IAAI,CAACH,WAAW,CAAC;IAC/B,IAAI,CAACA,WAAW,GAAC,IAAI;EACzB,CAAC;EACJI,OAAO,EAAC;IACPN,OAAOA,CAAA,EAAE;MACC,IAAI,CAACO,KAAK,CAACC,GAAG,CAAC,qCAAqC,EACnDC,IAAI,CAACC,GAAG,IAAE;QAClB,IAAI,CAACC,OAAO,GAACD,GAAG,CAAClC,IAAG;MACrB,CAAC;MACO,IAAI,CAACC,MAAM,CAACc,KAAK,CAACf,IAAI,GAAC,IAAI,CAACmC,OAAO,CAACC,IAAI,CAACC,IAAI,CAACC,OAAO,CAAC;MACtD,IAAI,CAACrC,MAAM,CAACmB,MAAM,CAAC,CAAC,CAAC,CAACpB,IAAI,GAAC,IAAI,CAACmC,OAAO,CAACC,IAAI,CAACG,GAAG,CAACD,OAAO,CAAC;MACzD,IAAI,CAACrC,MAAM,CAACmB,MAAM,CAAC,CAAC,CAAC,CAACpB,IAAI,GAAC,IAAI,CAACmC,OAAO,CAACC,IAAI,CAACI,EAAE,CAACF,OAAO,CAAC;MACxD,IAAI,CAACrC,MAAM,CAACmB,MAAM,CAAC,CAAC,CAAC,CAACpB,IAAI,GAAC,IAAI,CAACmC,OAAO,CAACC,IAAI,CAACK,GAAG,CAACH,OAAO,CAAC;IACnE;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}