{"ast":null,"code":"import axios from 'axios';\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { PieChart } from 'echarts/charts';\nimport { TitleComponent, TooltipComponent, LegendComponent } from 'echarts/components';\nimport VChart, { THEME_KEY } from 'vue-echarts';\nimport { ref, provide } from 'vue';\nexport default {\n  __name: 'Pie',\n  props: {\n    num: Number\n  },\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n    use([CanvasRenderer, PieChart, TitleComponent, TooltipComponent, LegendComponent]);\n    const option = ref({\n      title: {\n        text: 'Referer of a Website',\n        left: 'center'\n      },\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'left'\n      },\n      series: [{\n        type: 'pie',\n        radius: '50%',\n        data: [{\n          value: 0,\n          name: '总人流量'\n        }, {\n          value: 0,\n          name: '在镜人流量'\n        }, {\n          value: 0,\n          name: '入口人流量'\n        }, {\n          value: 0,\n          name: '出口人流量'\n        }],\n        emphasis: {\n          itemStyle: {\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n          }\n        }\n      }]\n    });\n    axios.get('http://localhost:8000/api/crowdvis/').then(res => {\n      option.value.series[0].data[0].value = res.data[0].total_count;\n      option.value.series[0].data[1].value = res.data[0].vis_count;\n      option.value.series[0].data[2].value = res.data[0].in_count;\n      option.value.series[0].data[3].value = res.data[0].out_count;\n    });\n    console.log(props);\n    const __returned__ = {\n      option,\n      props,\n      get axios() {\n        return axios;\n      },\n      get use() {\n        return use;\n      },\n      get CanvasRenderer() {\n        return CanvasRenderer;\n      },\n      get PieChart() {\n        return PieChart;\n      },\n      get TitleComponent() {\n        return TitleComponent;\n      },\n      get TooltipComponent() {\n        return TooltipComponent;\n      },\n      get LegendComponent() {\n        return LegendComponent;\n      },\n      get VChart() {\n        return VChart;\n      },\n      get THEME_KEY() {\n        return THEME_KEY;\n      },\n      ref,\n      provide\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","use","CanvasRenderer","PieChart","TitleComponent","TooltipComponent","LegendComponent","VChart","THEME_KEY","ref","provide","option","title","text","left","tooltip","trigger","legend","orient","series","type","radius","data","value","name","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","get","then","res","total_count","vis_count","in_count","out_count","console","log","props"],"sources":["D:/code/DBproject/frontend/src/components/Pie.vue"],"sourcesContent":["<template>\r\n  <v-chart class=\"chart\" :option=\"option\" autoresize />\r\n</template>\r\n\r\n<script setup>\r\nimport axios from 'axios'\r\nimport { use } from 'echarts/core';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\nimport { PieChart } from 'echarts/charts';\r\nimport {\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n} from 'echarts/components';\r\nimport VChart, { THEME_KEY } from 'vue-echarts';\r\nimport { ref, provide } from 'vue';\r\n\r\nuse([\r\n  CanvasRenderer,\r\n  PieChart,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent,\r\n]);\r\n\r\nconst option = ref({\r\n  title: {\r\n    text: 'Referer of a Website',\r\n    left: 'center'\r\n  },\r\n  tooltip: {\r\n    trigger: 'item'\r\n  },\r\n  legend: {\r\n    orient: 'vertical',\r\n    left: 'left'\r\n  },\r\n  series: [\r\n    {\r\n      type: 'pie',\r\n      radius: '50%',\r\n      data: [\r\n        { value: 0, name: '总人流量' },\r\n        { value: 0, name: '在镜人流量' },\r\n        { value: 0, name: '入口人流量' },\r\n        { value: 0, name: '出口人流量' },\r\n      ],\r\n      emphasis: {\r\n        itemStyle: {\r\n          shadowBlur: 10,\r\n          shadowOffsetX: 0,\r\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n        }\r\n      }\r\n    }\r\n  ]\r\n});\r\n\r\naxios.get('http://localhost:8000/api/crowdvis/')\r\n  .then(res => {\r\n    option.value.series[0].data[0].value=res.data[0].total_count;\r\n    option.value.series[0].data[1].value=res.data[0].vis_count;\r\n    option.value.series[0].data[2].value=res.data[0].in_count;\r\n    option.value.series[0].data[3].value=res.data[0].out_count;\r\n  });\r\n\r\n  const props = defineProps({\r\n        num:Number\r\n    })\r\n    console.log(props);\r\n</script>\r\n\r\n"],"mappings":"AAKA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,cAAc;AAClC,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SACEC,cAAc,EACdC,gBAAgB,EAChBC,eAAe,QACV,oBAAoB;AAC3B,OAAOC,MAAM,IAAIC,SAAS,QAAQ,aAAa;AAC/C,SAASC,GAAG,EAAEC,OAAO,QAAQ,KAAK;;;;;;;;;;;IAElCT,GAAG,CAAC,CACFC,cAAc,EACdC,QAAQ,EACRC,cAAc,EACdC,gBAAgB,EAChBC,eAAe,CAChB,CAAC;IAEF,MAAMK,MAAM,GAAGF,GAAG,CAAC;MACjBG,KAAK,EAAE;QACLC,IAAI,EAAE,sBAAsB;QAC5BC,IAAI,EAAE;MACR,CAAC;MACDC,OAAO,EAAE;QACPC,OAAO,EAAE;MACX,CAAC;MACDC,MAAM,EAAE;QACNC,MAAM,EAAE,UAAU;QAClBJ,IAAI,EAAE;MACR,CAAC;MACDK,MAAM,EAAE,CACN;QACEC,IAAI,EAAE,KAAK;QACXC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE,CACJ;UAAEC,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,EAC1B;UAAED,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAQ,CAAC,EAC3B;UAAED,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAQ,CAAC,EAC3B;UAAED,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAQ,CAAC,CAC5B;QACDC,QAAQ,EAAE;UACRC,SAAS,EAAE;YACTC,UAAU,EAAE,EAAE;YACdC,aAAa,EAAE,CAAC;YAChBC,WAAW,EAAE;UACf;QACF;MACF,CAAC;IAEL,CAAC,CAAC;IAEF7B,KAAK,CAAC8B,GAAG,CAAC,qCAAqC,CAAC,CAC7CC,IAAI,CAACC,GAAG,IAAI;MACXrB,MAAM,CAACY,KAAK,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACS,GAAG,CAACV,IAAI,CAAC,CAAC,CAAC,CAACW,WAAW;MAC5DtB,MAAM,CAACY,KAAK,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACS,GAAG,CAACV,IAAI,CAAC,CAAC,CAAC,CAACY,SAAS;MAC1DvB,MAAM,CAACY,KAAK,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACS,GAAG,CAACV,IAAI,CAAC,CAAC,CAAC,CAACa,QAAQ;MACzDxB,MAAM,CAACY,KAAK,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACS,GAAG,CAACV,IAAI,CAAC,CAAC,CAAC,CAACc,SAAS;IAC5D,CAAC,CAAC;IAKAC,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}