{"ast":null,"code":"export default {\n  data() {\n    return {\n      content: null,\n      page: 1,\n      start_y: 2023,\n      start_m: 1,\n      start_d: 1,\n      start_h: 0,\n      end_y: 2023,\n      end_m: 5,\n      end_d: 1,\n      end_h: 0,\n      page_num: 0\n    };\n  },\n  methods: {\n    refresh(start_y, start_m, start_d, start_h, end_y, end_m, end_d, end_h) {\n      this.axios.get('http://localhost:8000/api/display/', {\n        params: {\n          page: this.page,\n          start_y: start_y,\n          start_m: start_m,\n          start_d: start_d,\n          start_h: start_h,\n          end_y: end_y,\n          end_m: end_m,\n          end_d: end_d,\n          end_h: end_h\n        }\n      }).then(res => {\n        this.page_num = res.data.page_num;\n        this.content = res.data.result;\n      });\n    },\n    refresh_pre(start_y, start_m, start_d, start_h, end_y, end_m, end_d, end_h) {\n      if (this.page - 1 < 1) {\n        return;\n      }\n      this.page = this.page - 1, this.axios.get('http://localhost:8000/api/display/', {\n        params: {\n          page: this.page,\n          start_y: start_y,\n          start_m: start_m,\n          start_d: start_d,\n          start_h: start_h,\n          end_y: end_y,\n          end_m: end_m,\n          end_d: end_d,\n          end_h: end_h\n        }\n      }).then(res => {\n        this.page_num = res.data.page_num;\n        this.content = res.data.result;\n      });\n    },\n    refresh_next(start_y, start_m, start_d, start_h, end_y, end_m, end_d, end_h) {\n      if (this.page + 1 > this.page_num) {\n        return;\n      }\n      this.page = this.page + 1, this.axios.get('http://localhost:8000/api/display/', {\n        params: {\n          page: this.page,\n          start_y: start_y,\n          start_m: start_m,\n          start_d: start_d,\n          start_h: start_h,\n          end_y: end_y,\n          end_m: end_m,\n          end_d: end_d,\n          end_h: end_h\n        }\n      }).then(res => {\n        this.page_num = res.data.page_num;\n        this.content = res.data.result;\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","content","page","start_y","start_m","start_d","start_h","end_y","end_m","end_d","end_h","page_num","methods","refresh","axios","get","params","then","res","result","refresh_pre","refresh_next"],"sources":["D:\\code\\DBproject\\frontend\\src\\components\\Staff.vue"],"sourcesContent":["<template>\n\t<div id=\"main\">\n\t  <div id=\"container\">\n\t\t<div id=\"left\">\n\t\t\t<div id=\"icon\">\n\t\t\t\t<router-link to=\"/\"><i class=\"fa fa-home\" aria-hidden=\"true\" /></router-link>\n\t\t\t\t<router-link to=\"/alarm\"><i class=\"fa fa-warning\" aria-hidden=\"true\" /></router-link>\n\t\t\t\t<router-link to=\"/traffic\" id=\"selected\"><i class=\"fa fa-street-view\" aria-hidden=\"true\" /></router-link>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"right\">\n\t\t  <div id=\"title\">\n\t\t\t<div id=\"word\">&ensp;<i class=\"fa fa-street-view\" aria-hidden=\"true\" />&ensp;人流量统计(分钟)</div>\n\t\t  </div>\n\t\t  <div id=\"time\">\n\t\t\t<div id=\"input\">\n\t\t\t\t<div style=\"flex:15;\">\n\t\t\t\t\t<div class=\"input-group mb-3\">\n\t\t\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\" id=\"basic-addon\">请输入开始时间:</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"start_y\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">年</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"start_m\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">月</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"start_d\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">日</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"start_h\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">时</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"input-group mb-3\">\n\t\t\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\" id=\"basic-addon\">请输入结束时间:</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"end_y\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">年</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"end_m\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">月</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"end_d\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">日</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"end_h\">\n\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t<span class=\"input-group-text\">时</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"refresh\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-success\" @click=\"refresh(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h)\">查询</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t  </div>\n\t\t  <div id=\"list\">\n\t\t\t<table class=\"table table-bordered table-striped table-hover\">\n\t\t\t  <thead>\n\t\t\t\t<tr>\n\t\t\t\t  <th>拍摄时间</th>\n\t\t\t\t  <th>人流量增量</th>\n\t\t\t\t  <th>平均可视人流</th>\n\t\t\t\t</tr>\n\t\t\t  </thead>\n\t\t\t  <tbody>\n\t\t\t\t<tr v-for=\"i in content\">\n\t\t\t\t  <td>{{ i.time_frame }}</td>\n\t\t\t\t  <td>{{ i.delta_count }}</td>\n\t\t\t\t  <td>{{ i.avg_vis }}</td>\n\t\t\t\t</tr>\n\t\t\t  </tbody>\n\t\t\t</table>\n\t\t  </div>\n\t\t  <div id=\"footer\">\n\t\t\t<nav id=\"nav\">\n\t\t\t\t<ul class=\"pagination\">\n\t\t\t\t\t<li class=\"page-item\">\n\t\t\t\t\t<a class=\"page-link\">\n\t\t\t\t\t\t<span aria-hidden=\"true\" @click=\"refresh_pre(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h)\">&laquo;上一页</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"page-item active\"><a class=\"page-link\" @click=\"refresh(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h)\">{{ page }}</a></li>\n\t\t\t\t\t<li class=\"page-item\">\n\t\t\t\t\t<a class=\"page-link\">\n\t\t\t\t\t\t<span aria-hidden=\"true\" @click=\"refresh_next(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h)\">&raquo;下一页</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<ul><div id=\"num\">共{{ page_num }}页</div></ul>\n\t\t\t</nav>\n\t\t  </div>\n\t\t</div>\n\t  </div>\n\t</div>\n</template>\n  \n<script>\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tcontent:null,\n\t\t\t\tpage:1,\n\t\t\t\tstart_y:2023,\n\t\t\t\tstart_m:1,\n\t\t\t\tstart_d:1,\n\t\t\t\tstart_h:0,\n\t\t\t\tend_y:2023,\n\t\t\t\tend_m:5,\n\t\t\t\tend_d:1,\n\t\t\t\tend_h:0,\n\t\t\t\tpage_num:0,\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\trefresh(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h){\n\t\t\t\tthis.axios.get('http://localhost:8000/api/display/',{\n\t\t\t\t\tparams:{\n\t\t\t\t\t\tpage:this.page,\n\t\t\t\t\t\tstart_y:start_y,\n\t\t\t\t\t\tstart_m:start_m,\n\t\t\t\t\t\tstart_d:start_d,\n\t\t\t\t\t\tstart_h:start_h,\n\t\t\t\t\t\tend_y:end_y,\n\t\t\t\t\t\tend_m:end_m,\n\t\t\t\t\t\tend_d:end_d,\n\t\t\t\t\t\tend_h:end_h,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res=>{\n\t\t\t\t\tthis.page_num=res.data.page_num\n\t\t\t\t\tthis.content=res.data.result\n\t\t\t\t})\n\t\t\t},\n\t\t\trefresh_pre(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h){\n\t\t\t\tif(this.page-1<1){\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.page=this.page-1,\n\t\t\t\tthis.axios.get('http://localhost:8000/api/display/',{\n\t\t\t\t\tparams:{\n\t\t\t\t\t\tpage:this.page,\n\t\t\t\t\t\tstart_y:start_y,\n\t\t\t\t\t\tstart_m:start_m,\n\t\t\t\t\t\tstart_d:start_d,\n\t\t\t\t\t\tstart_h:start_h,\n\t\t\t\t\t\tend_y:end_y,\n\t\t\t\t\t\tend_m:end_m,\n\t\t\t\t\t\tend_d:end_d,\n\t\t\t\t\t\tend_h:end_h,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res=>{\n\t\t\t\t\tthis.page_num=res.data.page_num\n\t\t\t\t\tthis.content=res.data.result\n\t\t\t\t})\n\t\t\t},\n\t\t\trefresh_next(start_y,start_m,start_d,start_h,end_y,end_m,end_d,end_h){\n\t\t\t\tif(this.page+1>this.page_num){\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.page=this.page+1,\n\t\t\t\tthis.axios.get('http://localhost:8000/api/display/',{\n\t\t\t\t\tparams:{\n\t\t\t\t\t\tpage:this.page,\n\t\t\t\t\t\tstart_y:start_y,\n\t\t\t\t\t\tstart_m:start_m,\n\t\t\t\t\t\tstart_d:start_d,\n\t\t\t\t\t\tstart_h:start_h,\n\t\t\t\t\t\tend_y:end_y,\n\t\t\t\t\t\tend_m:end_m,\n\t\t\t\t\t\tend_d:end_d,\n\t\t\t\t\t\tend_h:end_h,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res=>{\n\t\t\t\t\tthis.page_num=res.data.page_num\n\t\t\t\t\tthis.content=res.data.result\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n  \n<style scoped>\n#main{\n\twidth: 100vw;\n\theight: 100vh;\n\tbox-sizing: border-box;\n}\n#container{\n\twidth: 100%;\n\theight: 90%;\n\tposition: relative;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%,-50%);\n\tbackground-color: #fff;\n\tbox-shadow: 0 0 3px rgb(57,167,176),\n\t\t\t\t0 0 6px rgb(56,183,145);\n\tdisplay: flex;\n}\n#left{\n\tflex: 1;\n\tbackground-color: #eeeeee;\n\tbox-shadow: inset -15px 0px 10px -10px #666666;\n}\n#left #icon{\n\tfont-size: 50px;\n\ttext-align: center;\n\tposition: relative;\n\tleft: 50%;\n\ttransform: translate(-50%);\n}\n#right{\n\tflex: 20;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n#title{\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tbackground-image: linear-gradient(135deg,rgb(57,167,176),rgb(56,183,145));\n}\n#word{\n\tfont-size: 3em;\n\tfont-weight: lighter;\n\tcolor: #fff;\n}\n#time{\n\twidth: 100%;\n\theight: 15%;\n\tpadding: 1%;\n}\n#input{\n\tdisplay: flex;\n}\n#basic-addon{\n\tcolor: #fff;\n\tbackground-color: rgb(57,167,176);\n}\n#refresh{\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n#list{\n\tflex: 5;\n\toverflow: hidden;\n\tpadding: 1%;\n}\n#footer{\n\tdisplay: flex;\n\tflex: 0.5;\n}\n#nav{\n\tdisplay: flex;\n\tposition: relative;\n\ttop: 65%;\n\tleft: 50%;\n\ttransform: translate(-50%,-50%);\n}\n#num{\n\tmargin-top: .3em;\n\tfont-size: 1.1em;\n\tfont-weight: lighter;\n}\na{\n\tcolor: #666666;\n\ttransition: all 0.2s;\n}\na:hover{\n\tcolor: #0088ff;\n\ttransition: all 0.2s;\n}\n#selected{\n\tcolor: #0088ff;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}