{"ast":null,"code":"export default {\n  data() {\n    return {\n      option: {\n        color: ['#45C2E0', '#C1EBDD', '#FFC851'],\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          textStyle: {\n            show: true,\n            color: '#ffffff',\n            fontSize: 10\n          }\n        },\n        series: [{\n          label: {\n            color: '#ffffff',\n            fontSize: 10\n          },\n          type: 'pie',\n          radius: '40%',\n          data: [{\n            value: null,\n            name: '滞留量'\n          }, {\n            value: null,\n            name: '流入量'\n          }, {\n            value: null,\n            name: '流出量'\n          }],\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      }\n    };\n  },\n  created() {\n    this.getdata();\n  },\n  mounted() {\n    this.refreshdata = setInterval(() => {\n      this.getdata();\n    }, 2000);\n  },\n  destroyed() {\n    clearInterval(this.refreshdata);\n    this.refreshdata = null;\n  },\n  methods: {\n    getdata() {\n      this.axios.get('http://localhost:8000/graph_vis_vue').then(res => {\n        this.content = res.data;\n      });\n      this.option.series[0].data[0].value = this.content.pie.keep;\n      this.option.series[0].data[1].value = this.content.pie.in;\n      this.option.series[0].data[2].value = this.content.pie.out;\n    }\n  }\n};","map":{"version":3,"names":["data","option","color","tooltip","trigger","legend","textStyle","show","fontSize","series","label","type","radius","value","name","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","created","getdata","mounted","refreshdata","setInterval","destroyed","clearInterval","methods","axios","get","then","res","content","pie","keep","in","out"],"sources":["D:\\code\\DBproject\\frontend\\src\\components\\Pie.vue"],"sourcesContent":["<template>\r\n    <e-charts class=\"chart\" :option=\"option\"></e-charts>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n    data(){\r\n        return{\r\n            option:{\r\n                color:['#45C2E0', '#C1EBDD', '#FFC851'],\r\n                tooltip: {\r\n                    trigger: 'item',\r\n                },\r\n                legend: {\r\n                    textStyle: {\r\n                        show: true,\r\n                        color: '#ffffff',\r\n                        fontSize: 10\r\n                    }\r\n                },\r\n                series: [\r\n                    {\r\n                    label: {\r\n                        color: '#ffffff',\r\n                        fontSize: 10\r\n                    },\r\n                    type: 'pie',\r\n                    radius: '40%',\r\n                    data: [\r\n                        { value: null, name: '滞留量' },\r\n                        { value: null, name: '流入量' },\r\n                        { value: null, name: '流出量' },\r\n                    ],\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                        shadowBlur: 10,\r\n                        shadowOffsetX: 0,\r\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                        }\r\n                    }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.getdata();\r\n    },\r\n\tmounted(){\r\n        this.refreshdata=setInterval(() => {\r\n\t\t    this.getdata();\r\n        }, 2000);\r\n\t},\r\n    destroyed(){\r\n\r\n        clearInterval(this.refreshdata);\r\n        this.refreshdata=null;\r\n    },\r\n\tmethods:{\r\n\t\tgetdata(){\r\n            this.axios.get('http://localhost:8000/graph_vis_vue')\r\n            .then(res=>{\r\n\t\t\t\t\tthis.content=res.data\r\n\t\t\t\t})\r\n            this.option.series[0].data[0].value=this.content.pie.keep\r\n            this.option.series[0].data[1].value=this.content.pie.in\r\n            this.option.series[0].data[2].value=this.content.pie.out\r\n\t\t},\r\n\t}\r\n}\r\n</script>"],"mappings":"AAKA,eAAc;EACVA,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,MAAM,EAAC;QACHC,KAAK,EAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QACvCC,OAAO,EAAE;UACLC,OAAO,EAAE;QACb,CAAC;QACDC,MAAM,EAAE;UACJC,SAAS,EAAE;YACPC,IAAI,EAAE,IAAI;YACVL,KAAK,EAAE,SAAS;YAChBM,QAAQ,EAAE;UACd;QACJ,CAAC;QACDC,MAAM,EAAE,CACJ;UACAC,KAAK,EAAE;YACHR,KAAK,EAAE,SAAS;YAChBM,QAAQ,EAAE;UACd,CAAC;UACDG,IAAI,EAAE,KAAK;UACXC,MAAM,EAAE,KAAK;UACbZ,IAAI,EAAE,CACF;YAAEa,KAAK,EAAE,IAAI;YAAEC,IAAI,EAAE;UAAM,CAAC,EAC5B;YAAED,KAAK,EAAE,IAAI;YAAEC,IAAI,EAAE;UAAM,CAAC,EAC5B;YAAED,KAAK,EAAE,IAAI;YAAEC,IAAI,EAAE;UAAM,CAAC,CAC/B;UACDC,QAAQ,EAAE;YACNC,SAAS,EAAE;cACXC,UAAU,EAAE,EAAE;cACdC,aAAa,EAAE,CAAC;cAChBC,WAAW,EAAE;YACb;UACJ;QACA;MAER;IACJ;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,OAAO,CAAC,CAAC;EAClB,CAAC;EACJC,OAAOA,CAAA,EAAE;IACF,IAAI,CAACC,WAAW,GAACC,WAAW,CAAC,MAAM;MACrC,IAAI,CAACH,OAAO,CAAC,CAAC;IACZ,CAAC,EAAE,IAAI,CAAC;EACf,CAAC;EACEI,SAASA,CAAA,EAAE;IAEPC,aAAa,CAAC,IAAI,CAACH,WAAW,CAAC;IAC/B,IAAI,CAACA,WAAW,GAAC,IAAI;EACzB,CAAC;EACJI,OAAO,EAAC;IACPN,OAAOA,CAAA,EAAE;MACC,IAAI,CAACO,KAAK,CAACC,GAAG,CAAC,qCAAqC,EACnDC,IAAI,CAACC,GAAG,IAAE;QAClB,IAAI,CAACC,OAAO,GAACD,GAAG,CAAC/B,IAAG;MACrB,CAAC;MACO,IAAI,CAACC,MAAM,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACT,IAAI,CAAC,CAAC,CAAC,CAACa,KAAK,GAAC,IAAI,CAACmB,OAAO,CAACC,GAAG,CAACC,IAAG;MACxD,IAAI,CAACjC,MAAM,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACT,IAAI,CAAC,CAAC,CAAC,CAACa,KAAK,GAAC,IAAI,CAACmB,OAAO,CAACC,GAAG,CAACE,EAAC;MACtD,IAAI,CAAClC,MAAM,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACT,IAAI,CAAC,CAAC,CAAC,CAACa,KAAK,GAAC,IAAI,CAACmB,OAAO,CAACC,GAAG,CAACG,GAAE;IACjE;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}